{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/assets/zcoin.png","webpack:///./src/views/Product.vue?f186","webpack:///src/views/Product.vue","webpack:///./src/views/Product.vue?880b","webpack:///./src/views/Product.vue","webpack:///./node_modules/core-js/modules/es.symbol.description.js"],"names":["DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","module","exports","render","_vm","_h","$createElement","_c","_self","attrs","sell","scopedSlots","_u","key","fn","_v","proxy","staticClass","image","_s","name","description","price","on","$event","exchange","staticRenderFns","data","users","methods","component","$","global","has","isObject","copyConstructorProperties","NativeSymbol","Symbol","undefined","EmptyStringDescriptionStore","SymbolWrapper","arguments","length","String","result","symbolPrototype","constructor","symbolToString","native","regexp","symbol","valueOf","string","desc","slice","replace","forced"],"mappings":"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","file":"js/product.7a042817.js","sourcesContent":["var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAlCAYAAADFniADAAAACXBIWXMAAAsSAAALEgHS3X78AAAEDUlEQVRYha2YS0wTURSGf4aCtAIt8goaHViYCIkRYUcwkJiQEDaoCxMkUonuDGCiMaY+MKbqQgNRdhIzLnBHwAUbjIJGXSnBDbpCBjWFyKNVAqU8as4wU6bTOzOdtl8yi7lz5/bvmXPOPeemhcNhJILocdcDoMsFoFK1hB/ApHLxXmHG6vKWRMlC3ACaAThpjMtyoLC1A1llR7AdXMPyyABWJj6oX/sKQKCL9wr+lImSxXQDqNM+I0GO8qqosd+PrmJzeUE7NQCgly4zcZyJGJfocdNCYyxBRFZZecyYzVXAmkqWvUOfVP6T1kWJHjf5yTiATqMFgj++xYxtB1eNXuEBjIked5clUSpBx4xWJwJvhiVfUiB/CvlmzV4jekSPW2A9iPEp+mQAZhRHjhdy9E3/AsuXzLjCe4VeM1GTWgtllhyC82SzFGlWSXfkIN2ZJ7214ZvFXP9D1gqneK8wzBQletzdsjNGceDaY9hc+ZYFsVj5/B6LQ8+1TygyS5WojPiU6HGXsgRBiqbUCCIy8otYw045XQAaR+/WW0jtyMmytaYbmW2yYXZEyTdterMpS6dCWDi0Lq1lgJQmbPLzZqOZFOarUxOSw5uRW9cE++GjMbO214PwPb2JTf+i0Qq0hXXZVDeGUEIM/vhuOCe3poEpiJh/dj+edOGkbK/4lGmSNMNRUYW8phbmrMXB/ngTKlHPme1D8ZBRtB/5Zy4xZ/77NKqtGsyoNNyQ42UrsITgdOweSGKWRl5aXc7FyYVaUpAT/xl4EiUg5PuJZeuCiNKkLJXXeBaZJQcj9/SpfH23EJr7hfn+B2bVgh58wqIo0nJrG1Fy+R5yahoi42QhX9/tRAURIieXKJbQRtq+phYUnusAl2XfGQhvJyqImLFsKUqgrEgjodnVJ5IRo+DneK8Qt6WodCm+eGPXIioo0v5+HE2FqEnFUu+SEZREpLEYVraZYb3GQCH/dHtUpCnQJut/PRjXvmi2TZGT815hUhFFtXKP3syi1g7YNW2UQlrmHhSd1+0BoiCLmqQKqWaXPp9c8b3Qm6knyCpk6eyqWr23lL4wpsgLpOTXDeDsunV+b0w5LPf8zOozvLGRMlHBaaZfiepymNXNjGudnmr04vbr4PZmS/6QQBslQdsQFYsMjpODG4lyxduIRkTnFUitOgm2UDcpXOC9QlRTyjzgsCKMmtDC1s5I/qIkSkVdooKg17bLDlcvH+MYstOk7iZUii4SakJAT5CuKEUY7xXoTOGu0fqZJbyZAC30R+v1BBmKUomjiCzTy2OrU19ixuhMgYEoW6dS7dQsrJ7kUX9I6ZtaMslEtCdSGeOoqJaiMvB2SBthr2gbM7KMlmTOPEkgfV71eaeCdO5ppQKJAOA/rnefpavvOBQAAAAASUVORK5CYII=\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{attrs:{\"id\":\"product\"}},[_c('b-overlay',{attrs:{\"show\":!_vm.sell},scopedSlots:_vm._u([{key:\"overlay\",fn:function(){return [_c('h1',[_vm._v(\"已下架\")])]},proxy:true}])},[_c('b-row',[_c('b-col',{staticClass:\"d-flex justify-content-center justify-content-md-end\",attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('div',{attrs:{\"id\":\"img\"}},[_c('img',{attrs:{\"src\":_vm.image}})])]),_c('b-col',{staticClass:\"d-flex flex-column align-items-start\",attrs:{\"id\":\"text\",\"cols\":\"12\",\"md\":\"6\"}},[_c('p',{attrs:{\"id\":\"title\"}},[_vm._v(_vm._s(_vm.name))]),_c('p',[_vm._v(_vm._s(_vm.description))]),_c('div',{attrs:{\"id\":\"price\"}},[_c('img',{attrs:{\"src\":require(\"../assets/zcoin.png\")}}),_vm._v(_vm._s(_vm.price))])]),_c('b-col',{staticClass:\"d-flex justify-content-center\",attrs:{\"cols\":\"12\"}},[_c('b-btn',{attrs:{\"id\":\"exchange-btn\"},on:{\"click\":function($event){return _vm.exchange()}}},[_vm._v(\"立即兌換\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\r\nb-container#product\r\n  b-overlay(:show=\"!sell\")\r\n    b-row\r\n      b-col.d-flex.justify-content-center.justify-content-md-end(cols=\"12\" md=\"6\")\r\n        #img\r\n          img(:src=\"image\")\r\n      b-col#text.d-flex.flex-column.align-items-start(cols=\"12\" md=\"6\")\r\n        p#title {{ name }}\r\n        p {{ description }}\r\n        #price\r\n          img(:src='require(\"../assets/zcoin.png\")')\r\n          | {{ price }}\r\n      b-col.d-flex.justify-content-center(cols=\"12\")\r\n        b-btn#exchange-btn(@click=\"exchange()\") 立即兌換\r\n    template(#overlay)\r\n      h1 已下架\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Product',\r\n  data () {\r\n    return {\r\n      name: '',\r\n      price: '',\r\n      description: '',\r\n      image: '',\r\n      sell: true,\r\n      users: []\r\n    }\r\n  },\r\n  methods: {\r\n    async exchange () {\r\n      if (this.$store.state.jwt.token.length === 0) {\r\n        this.$swal({\r\n          icon: 'error',\r\n          title: '錯誤',\r\n          text: '請先登入'\r\n        })\r\n        this.$router.push('/login')\r\n        return\r\n      }\r\n      try {\r\n        if (this.users.points < this.price) {\r\n          this.$swal({\r\n            icon: 'error',\r\n            title: '錯誤',\r\n            text: '剩餘點數不足'\r\n          })\r\n          return\r\n        }\r\n        await this.axios.post('/orders', { products: this.$route.params.id }, {\r\n          headers: {\r\n            authorization: 'Bearer ' + this.$store.state.jwt.token\r\n          }\r\n        })\r\n        const remain = this.users.points - this.price\r\n        await this.axios.patch('/users/exchange/' + this.users._id, { points: remain }, {\r\n          headers: {\r\n            authorization: 'Bearer ' + this.$store.state.jwt.token\r\n          }\r\n        })\r\n        this.$swal({\r\n          icon: 'success',\r\n          title: '成功',\r\n          text: `兌換成功，剩餘 Z 幣 ${remain}`\r\n        })\r\n      } catch (error) {\r\n        console.log(error)\r\n        this.$swal({\r\n          icon: 'error',\r\n          title: '錯誤',\r\n          text: '兌換失敗'\r\n        })\r\n      }\r\n    }\r\n  },\r\n  async mounted () {\r\n    try {\r\n      const { data } = await this.axios.get('/products/' + this.$route.params.id)\r\n      this.name = data.result.name\r\n      this.price = data.result.price\r\n      this.description = data.result.description\r\n      this.image = `${process.env.VUE_APP_API}/files/${data.result.image}`\r\n      this.sell = data.result.sell\r\n      document.title = `${this.name} | 購物網`\r\n      const response = await this.axios.get('/users', {\r\n        headers: {\r\n          authorization: 'Bearer ' + this.$store.state.jwt.token\r\n        }\r\n      })\r\n      this.users = response.data.result\r\n      return this.users\r\n    } catch (error) {}\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Product.vue?vue&type=template&id=6d5ac192&lang=pug&\"\nimport script from \"./Product.vue?vue&type=script&lang=js&\"\nexport * from \"./Product.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n"],"sourceRoot":""}