(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin"],{"027e":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{id:"adminmembers"}},[r("p",{staticClass:"adminTitle"},[e._v("會員管理")]),r("b-table",{ref:"membersTable",staticClass:"text-center",attrs:{id:"adminmembers-table",striped:"",hover:"",items:e.pageBox,fields:e.fields},scopedSlots:e._u([{key:"cell(role)",fn:function(t){return[1===t.item.role?r("font-awesome-icon",{attrs:{icon:["fas","check"]}}):e._e()]}},{key:"cell(action)",fn:function(t){return[r("b-btn",{staticClass:"btn-edit",on:{click:function(r){return e.editUser(t.index)}}},[e._v("編輯")])]}}])}),r("div",{staticClass:"overflow-auto d-flex justify-content-center"},[r("b-pagination",{staticClass:"mb-5",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,"first-number":"","last-number":""},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),r("b-modal",{attrs:{id:"modal-members",title:"會員編輯",centered:"","ok-variant":"success","ok-title":"送出","cancel-title":"取消"},on:{ok:e.submitModal}},[r("b-form-group",{attrs:{label:"帳戶","label-for":"input-account"}},[r("b-form-input",{attrs:{id:"input-account",type:"text",disabled:""},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),r("b-form-group",{attrs:{label:"信箱","label-for":"input-email"}},[r("b-form-input",{attrs:{id:"input-email",type:"text",disabled:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),r("b-form-group",{attrs:{label:"點數","label-for":"input-points",description:"點數限制為 0 以上"}},[r("b-form-input",{attrs:{id:"input-points",type:"number",required:"",state:e.state.points},model:{value:e.form.points,callback:function(t){e.$set(e.form,"points",t)},expression:"form.points"}})],1),r("b-form-group",{attrs:{label:"管理員","label-for":"input-role"}},[r("b-form-radio",{attrs:{value:0},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},[e._v("一般會員")]),r("b-form-radio",{attrs:{value:1},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},[e._v("管理員")])],1)],1)],1)},n=[],o=r("1da1"),s=(r("96cf"),r("fb6a"),{name:"AdminMembers",data:function(){return{users:[],currentPage:1,perPage:10,fields:[{key:"account",label:"帳戶",sortable:!0},{key:"email",label:"信箱",sortable:!0},{key:"points",label:"點數",sortable:!0},{key:"role",label:"管理員",sortable:!0},{key:"action",label:"操作"}],form:{account:"",email:"",points:0,role:0,_id:""}}},computed:{state:function(){return{points:0===this.form.points?null:this.form.points>=0}},pageBox:function(){var e=this.users;return e.slice((this.currentPage-1)*this.perPage,this.currentPage*this.perPage)},totalRows:function(){return this.users.length}},methods:{editUser:function(e){this.form={account:this.pageBox[e].account,email:this.pageBox[e].email,points:this.pageBox[e].points,role:this.pageBox[e].role,_id:this.pageBox[e]._id,index:e},this.$bvModal.show("modal-members")},submitModal:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r={points:e.form.points,role:e.form.role},t.next=4,e.axios.patch("/users/"+e.form._id,r,{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 4:e.pageBox[e.form.index]={account:e.form.account,email:e.form.email,points:e.form.points,role:e.form.role,_id:e.form._id},e.$refs.membersTable.refresh(),e.$bvModal.hide("modal-members"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.$swal({icon:"error",title:"錯誤",text:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("/users/all",{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 3:return r=t.sent,a=r.data,e.users=a.result,t.abrupt("return",e.users);case 9:t.prev=9,t.t0=t["catch"](0),e.$swal({icon:"error",title:"錯誤",text:"取得會員失敗"});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}),i=s,l=r("2877"),c=Object(l["a"])(i,a,n,!1,null,null,null);t["default"]=c.exports},"0ad2":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{id:"adminfur"}},[r("p",{staticClass:"adminTitle"},[e._v("家電家具回收預約")]),r("b-row",[r("b-col",{staticClass:"mb-4",attrs:{cols:"12"}},[r("b-nav",{attrs:{pills:"",justified:""}},[r("b-nav-item",{attrs:{to:"/admin/fur/undone",exact:"","exact-active-class":"active"}},[e._v("未完成")]),r("b-nav-item",{attrs:{to:"/admin/fur/done",exact:"","exact-active-class":"active"}},[e._v("已完成")])],1)],1),r("b-col",{attrs:{cols:"12"}},[r("router-view")],1)],1)],1)},n=[],o=r("2877"),s={},i=Object(o["a"])(s,a,n,!1,null,null,null);t["default"]=i.exports},1065:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"adminfurundone"}},[r("b-table",{ref:"reservesTable",staticClass:"text-center",attrs:{id:"adminfurundone-table",striped:"",hover:"",items:e.furnitures,fields:e.fields},scopedSlots:e._u([{key:"cell(user)",fn:function(t){return[e._v(e._s(t.item.user.account))]}},{key:"cell(items)",fn:function(t){return e._l(t.item.items,(function(a,n){return r("span",[e._v(e._s(a)),n<t.item.items.length-1?r("span",[e._v("、")]):e._e()])}))}},{key:"cell(freetime)",fn:function(t){return[e._v(e._s(t.item.freetime.day)+" ; "+e._s(t.item.freetime.time))]}},{key:"cell(action)",fn:function(t){return[r("b-btn",{staticClass:"btn-edit",on:{click:function(r){return e.editReserve(t.index)}}},[e._v("編輯")])]}}])}),r("b-modal",{attrs:{id:"modal-done",title:"編輯",centered:"","ok-variant":"success","ok-title":"送出","cancel-title":"取消"},on:{ok:e.submitModal}},[r("b-form-group",{attrs:{label:"處理","label-for":"input-role"}},[r("b-form-radio",{attrs:{value:!1},model:{value:e.form.done,callback:function(t){e.$set(e.form,"done",t)},expression:"form.done"}},[e._v("未完成")]),r("b-form-radio",{attrs:{value:!0},model:{value:e.form.done,callback:function(t){e.$set(e.form,"done",t)},expression:"form.done"}},[e._v("已完成")])],1)],1)],1)},n=[],o=r("1da1"),s=(r("96cf"),r("c740"),r("a434"),r("d81d"),{name:"AdminFurUndone",data:function(){return{furnitures:[],fields:[{key:"user",label:"帳戶",sortable:!0},{key:"address",label:"地址",sortable:!0},{key:"items",label:"品項"},{key:"freetime",label:"希望服務時間"},{key:"tel",label:"聯絡電話"},{key:"date",label:"日期",sortable:!0},{key:"action",label:"操作"}],form:{done:!1,_id:""}}},methods:{editReserve:function(e){this.form={done:this.furnitures[e].done,_id:this.furnitures[e]._id,index:e},this.$bvModal.show("modal-done")},submitModal:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r={done:e.form.done},t.next=4,e.axios.patch("/furnitures/"+e.form._id,r,{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 4:e.furnitures[e.form.index]={done:e.form.done,_id:e.form._id},a=e.furnitures.findIndex((function(t){return t._id===e.form._id})),e.furnitures.splice(a,1),e.$refs.reservesTable.refresh(),e.$bvModal.hide("modal-done"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.$swal({icon:"error",title:"錯誤",text:t.t0.response.data.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("/furnitures/all",{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 3:r=t.sent,a=r.data,e.furnitures=a.result.map((function(e){return e.date=new Date(e.date).toLocaleString(),e})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$swal({icon:"error",title:"錯誤",text:"取得預約資料失敗"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}),i=s,l=r("2877"),c=Object(l["a"])(i,a,n,!1,null,null,null);t["default"]=c.exports},"114f":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"admincardone"}},[r("b-table",{ref:"reservesTable",staticClass:"text-center",attrs:{id:"admincardone-table",striped:"",hover:"",items:e.pageBox,fields:e.fields},scopedSlots:e._u([{key:"cell(user)",fn:function(t){return[e._v(e._s(t.item.user.account))]}},{key:"cell(items)",fn:function(t){return e._l(t.item.items,(function(a,n){return r("span",[e._v(e._s(a)),n<t.item.items.length-1?r("span",[e._v("、")]):e._e()])}))}},{key:"cell(freetime)",fn:function(t){return[e._v(e._s(t.item.freetime.day)+" ; "+e._s(t.item.freetime.time))]}}])}),r("div",{staticClass:"overflow-auto d-flex justify-content-center"},[r("b-pagination",{staticClass:"mb-5",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,"first-number":"","last-number":""},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)},n=[],o=r("1da1"),s=(r("96cf"),r("fb6a"),r("d81d"),{name:"AdminCardone",data:function(){return{cars:[],currentPage:1,perPage:10,fields:[{key:"user",label:"帳戶",sortable:!0},{key:"address",label:"地址",sortable:!0},{key:"items",label:"品項"},{key:"freetime",label:"希望服務時間"},{key:"tel",label:"聯絡電話"},{key:"date",label:"日期",sortable:!0}]}},computed:{pageBox:function(){var e=this.cars;return e.slice((this.currentPage-1)*this.perPage,this.currentPage*this.perPage)},totalRows:function(){return this.cars.length}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("/cars/alldone",{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 3:r=t.sent,a=r.data,e.cars=a.result.map((function(e){return e.date=new Date(e.date).toLocaleString(),e})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$swal({icon:"error",title:"錯誤",text:"取得預約資料失敗"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}),i=s,l=r("2877"),c=Object(l["a"])(i,a,n,!1,null,null,null);t["default"]=c.exports},"27a0":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{id:"adminlocation"}},[r("p",{staticClass:"adminTitle"},[e._v("據點管理")]),r("div",{staticClass:"mb-3 d-flex justify-content-end",attrs:{id:"btn-addlocation"}},[r("b-btn",{attrs:{block:""},on:{click:function(t){return e.$bvModal.show("modal-location")}}},[e._v("新增地點")])],1),r("b-table",{ref:"locationTable",staticClass:"text-center",attrs:{id:"adminlocation-table",striped:"",hover:"",items:e.pageBox,fields:e.fields},scopedSlots:e._u([{key:"cell(lat)",fn:function(t){return[e._v(e._s(t.item.local.lat))]}},{key:"cell(lng)",fn:function(t){return[e._v(e._s(t.item.local.lng))]}},{key:"cell(action)",fn:function(t){return[r("b-btn",{staticClass:"btn-edit",on:{click:function(r){return e.editLocation(t.index)}}},[e._v("編輯")]),r("b-btn",{staticClass:"btn-del",on:{click:function(r){return e.dellocation(t)}}},[e._v("刪除")])]}}])}),r("div",{staticClass:"overflow-auto d-flex justify-content-center"},[r("b-pagination",{staticClass:"mb-5",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,"first-number":"","last-number":""},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),r("b-modal",{attrs:{id:"modal-location",title:e.form._id.length>0?"編輯據點":"新增據點",centered:"","ok-variant":"success","ok-title":"送出","cancel-title":"取消","ok-disabled":e.submitDisable,"cancel-disabled":e.submitDisable},on:{ok:e.submitModal,hidden:e.resetForm}},[r("b-form-group",{attrs:{label:"名稱","label-for":"input-name",state:e.state.name,description:"名稱限制為 1 個字以上","invalid-feedback":"名稱格式不正確"}},[r("b-form-input",{attrs:{id:"input-name",type:"text",required:"",placeholder:"請輸入名稱",state:e.state.name},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("b-form-group",{attrs:{label:"地址","label-for":"input-address",state:e.state.address,description:"地址限制為 1 個字以上","invalid-feedback":"地址格式不正確"}},[r("b-form-input",{attrs:{id:"input-address",type:"text",required:"",placeholder:"請輸入地址",state:e.state.address},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),r("b-form-group",{attrs:{label:"經度","label-for":"input-local-lat"}},[r("b-form-input",{attrs:{id:"input-local-lat",type:"number",required:"",placeholder:"請輸入經度"},model:{value:e.form.local.lat,callback:function(t){e.$set(e.form.local,"lat",t)},expression:"form.local.lat"}})],1),r("b-form-group",{attrs:{label:"緯度","label-for":"input-local-lat"}},[r("b-form-input",{attrs:{id:"input-local-lng",type:"number",required:"",placeholder:"請輸入緯度"},model:{value:e.form.local.lng,callback:function(t){e.$set(e.form.local,"lng",t)},expression:"form.local.lng"}})],1)],1)],1)},n=[],o=r("1da1"),s=(r("96cf"),r("b0c0"),r("fb6a"),r("c740"),r("a434"),{name:"AdminLocation",data:function(){return{locations:[],currentPage:1,perPage:10,fields:[{key:"name",label:"名稱"},{key:"address",label:"地址"},{key:"lat",label:"經度"},{key:"lng",label:"緯度"},{key:"action",label:"操作"}],submitDisable:!1,form:{name:"",address:"",local:{lat:0,lng:0},_id:""}}},computed:{state:function(){return{name:0!==this.form.name.length||null,address:0!==this.form.address.length||null}},pageBox:function(){var e=this.locations;return e.slice((this.currentPage-1)*this.perPage,this.currentPage*this.perPage)},totalRows:function(){return this.locations.length}},methods:{resetForm:function(e){this.submitDisable?e.preventDefault():this.form={name:"",address:"",local:{lat:0,lng:0},_id:""}},editLocation:function(e){this.form={name:this.pageBox[e].name,address:this.pageBox[e].address,local:{lat:this.pageBox[e].local.lat,lng:this.pageBox[e].local.lng},_id:this.pageBox[e]._id,index:e},this.$bvModal.show("modal-location")},dellocation:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.axios.delete("/locations/"+e.item._id,{headers:{authorization:"Bearer "+t.$store.state.jwt.token}});case 3:a=t.locations.findIndex((function(t){return t._id===e.item._id})),t.locations.splice(a,1),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),t.$swal({icon:"error",title:"錯誤",text:r.t0.response.data.message});case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},submitModal:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.submitDisable=!0,t.prev=1,r={name:e.form.name,address:e.form.address,local:{lat:e.form.local.lat,lng:e.form.local.lng}},0!==e.form._id.length){t.next=12;break}return t.next=6,e.axios.post("/locations",r,{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 6:a=t.sent,n=a.data,e.locations.push({name:r.name,address:r.address,local:{lat:r.local.lat,lng:r.local.lng},_id:n.result._id}),e.form={name:"",address:"",local:{lat:0,lng:0},_id:""},t.next=15;break;case 12:return t.next=14,e.axios.patch("/locations/"+e.form._id,r,{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 14:e.pageBox[e.form.index]={name:e.form.name,address:e.form.address,local:{lat:e.form.local.lat,lng:e.form.local.lng},_id:e.form._id};case 15:e.form={name:"",address:"",local:{lat:0,lng:0},_id:""},e.$refs.locationTable.refresh(),e.$bvModal.hide("modal-location"),e.submitDisable=!1,t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](1),e.$swal({icon:"error",title:"錯誤",text:t.t0.response.data.message});case 24:case"end":return t.stop()}}),t,null,[[1,21]])})))()}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("/locations",{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 3:return r=t.sent,a=r.data,e.locations=a.result,t.abrupt("return",e.locations);case 9:t.prev=9,t.t0=t["catch"](0),e.$swal({icon:"error",title:"錯誤",text:"取得資料失敗"});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}),i=s,l=r("2877"),c=Object(l["a"])(i,a,n,!1,null,null,null);t["default"]=c.exports},3408:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"adminfurdone"}},[r("b-table",{ref:"reservesTable",staticClass:"text-center",attrs:{id:"adminfurdone-table",striped:"",hover:"",items:e.pageBox,fields:e.fields},scopedSlots:e._u([{key:"cell(user)",fn:function(t){return[e._v(e._s(t.item.user.account))]}},{key:"cell(items)",fn:function(t){return e._l(t.item.items,(function(a,n){return r("span",[e._v(e._s(a)),n<t.item.items.length-1?r("span",[e._v("、")]):e._e()])}))}},{key:"cell(freetime)",fn:function(t){return[e._v(e._s(t.item.freetime.day)+" ; "+e._s(t.item.freetime.time))]}}])}),r("div",{staticClass:"overflow-auto d-flex justify-content-center"},[r("b-pagination",{staticClass:"mb-5",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,"first-number":"","last-number":""},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)},n=[],o=r("1da1"),s=(r("96cf"),r("fb6a"),r("d81d"),{name:"AdminFurdone",data:function(){return{furnitures:[],currentPage:1,perPage:10,fields:[{key:"user",label:"帳戶",sortable:!0},{key:"address",label:"地址",sortable:!0},{key:"items",label:"品項"},{key:"freetime",label:"希望服務時間"},{key:"tel",label:"聯絡電話"},{key:"date",label:"日期",sortable:!0}]}},computed:{pageBox:function(){var e=this.furnitures;return e.slice((this.currentPage-1)*this.perPage,this.currentPage*this.perPage)},totalRows:function(){return this.furnitures.length}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("/furnitures/alldone",{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 3:r=t.sent,a=r.data,e.furnitures=a.result.map((function(e){return e.date=new Date(e.date).toLocaleString(),e})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$swal({icon:"error",title:"錯誤",text:"取得預約資料失敗"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}),i=s,l=r("2877"),c=Object(l["a"])(i,a,n,!1,null,null,null);t["default"]=c.exports},3530:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"admin"}},[a("b-navbar",{attrs:{id:"adminNavbar",toggleable:"lg",type:"dark",variant:"dark"}},[a("b-container",[a("b-navbar-brand",{attrs:{to:"/admin",title:"回首頁"}},[a("img",{attrs:{id:"logo",src:r("534f")}})]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-item",{staticClass:"ml-auto",attrs:{to:"/admin/members"}},[e._v("會員管理")]),a("b-nav-item",{staticClass:"ml-auto",attrs:{to:"/admin/fur/undone"}},[e._v("家電家具回收")]),a("b-nav-item",{staticClass:"ml-auto",attrs:{to:"/admin/car/undone"}},[e._v("廢車回收")]),a("b-nav-item",{staticClass:"ml-auto",attrs:{to:"/admin/products"}},[e._v("商品管理")]),a("b-nav-item",{staticClass:"ml-auto",attrs:{to:"/admin/orders"}},[e._v("兌換管理")]),a("b-nav-item",{staticClass:"ml-auto",attrs:{to:"/admin/front"}},[e._v("首頁輪播圖")]),a("b-nav-item",{staticClass:"ml-auto",attrs:{to:"/admin/location"}},[e._v("據點管理")]),a("b-nav-item",{staticClass:"ml-auto",attrs:{to:"/"}},[e._v("回到前台")]),a("b-nav-item",{staticClass:"ml-auto",on:{click:e.logout}},[e._v("登出")])],1)],1)],1)],1),a("router-view")],1)},n=[],o=r("1da1"),s=(r("96cf"),{name:"Admin",methods:{logout:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.delete("/users/logout",{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 3:e.$store.commit("logout"),"/"!==e.$route.path&&e.$router.push("/"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$swal({icon:"error",title:"錯誤",text:"發生錯誤"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}}),i=s,l=r("2877"),c=Object(l["a"])(i,a,n,!1,null,null,null);t["default"]=c.exports},6555:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{id:"adminfront"}},[r("p",{staticClass:"adminTitle"},[e._v("首頁輪播圖管理")]),r("div",{staticClass:"mb-3 d-flex justify-content-end",attrs:{id:"btn-addimg"}},[r("b-btn",{attrs:{block:""},on:{click:function(t){return e.$bvModal.show("modal-carousel")}}},[e._v("新增圖片")])],1),r("b-table",{ref:"carouselTable",staticClass:"text-center",attrs:{id:"admincarousel-table",striped:"",hover:"",items:e.carousels,fields:e.fields},scopedSlots:e._u([{key:"cell(image)",fn:function(t){return[t.item?r("img",{attrs:{src:t.item.image}}):e._e()]}},{key:"cell(show)",fn:function(e){return[e.item.show?r("font-awesome-icon",{attrs:{icon:["fas","check"]}}):r("font-awesome-icon",{attrs:{icon:["fas","times"]}})]}},{key:"cell(action)",fn:function(t){return[r("b-btn",{staticClass:"btn-edit mr-2",on:{click:function(r){return e.editCarousel(t.index)}}},[e._v("編輯")]),r("b-btn",{staticClass:"btn-del",on:{click:function(r){return e.delCarousel(t)}}},[e._v("刪除")])]}}])}),r("div",{attrs:{id:"box"}}),r("b-modal",{attrs:{id:"modal-carousel",title:"新增輪播圖",centered:"","ok-variant":"success","ok-title":"送出","cancel-title":"取消","ok-disabled":e.submitDisable,"cancel-disabled":e.submitDisable},on:{ok:e.submitModal,hidden:e.resetForm}},[r("b-form-group",{attrs:{label:"上傳圖片"}},[r("img-inputer",{attrs:{theme:"dark",size:"large",placeholder:"點擊或拖曳選擇圖片","bottom-text":"點擊或拖曳以修改"},model:{value:e.form.image,callback:function(t){e.$set(e.form,"image",t)},expression:"form.image"}})],1),r("b-form-group",{attrs:{label:"前台顯示"}},[r("b-form-radio",{attrs:{value:!0},model:{value:e.form.show,callback:function(t){e.$set(e.form,"show",t)},expression:"form.show"}},[e._v("顯示")]),r("b-form-radio",{attrs:{value:!1},model:{value:e.form.show,callback:function(t){e.$set(e.form,"show",t)},expression:"form.show"}},[e._v("不顯示")])],1)],1),r("b-modal",{attrs:{id:"modal-carousel-edit",title:"編輯",centered:"","ok-variant":"success","ok-title":"送出","cancel-title":"取消"},on:{ok:e.submitEditModal,hidden:e.resetForm}},[r("b-form-group",{attrs:{label:"前台顯示"}},[r("b-form-radio",{attrs:{value:!0},model:{value:e.form.show,callback:function(t){e.$set(e.form,"show",t)},expression:"form.show"}},[e._v("顯示")]),r("b-form-radio",{attrs:{value:!1},model:{value:e.form.show,callback:function(t){e.$set(e.form,"show",t)},expression:"form.show"}},[e._v("不顯示")])],1)],1)],1)},n=[],o=r("1da1"),s=(r("96cf"),r("c740"),r("a434"),r("99af"),r("d81d"),{name:"AdminFront",data:function(){return{carousels:[],fields:[{key:"image",label:"圖片"},{key:"show",label:"顯示"},{key:"action",label:"操作"}],submitDisable:!1,form:{image:null,show:!1,id:""}}},methods:{resetForm:function(e){this.submitDisable?e.preventDefault():this.form={image:null,show:!1,_id:""}},editCarousel:function(e){this.form={image:this.carousels[e].image,show:this.carousels[e].show,_id:this.carousels[e]._id,index:e},this.$bvModal.show("modal-carousel-edit")},delCarousel:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.axios.delete("/carousels/"+e.item._id,{headers:{authorization:"Bearer "+t.$store.state.jwt.token}});case 3:a=t.carousels.findIndex((function(t){return t._id===e.item._id})),t.carousels.splice(a,1),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),t.$swal({icon:"error",title:"錯誤",text:r.t0.response.data.message});case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},submitModal:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a in e.submitDisable=!0,t.prev=1,r=new FormData,e.form)r.append(a,e.form[a]);return t.next=6,e.axios.post("/carousels",r,{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 6:n=t.sent,o=n.data,e.carousels.push({image:"".concat("https://frontclass-zerozero.herokuapp.com","/files/").concat(o.result.image),show:e.form.show,_id:o.result._id}),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),e.$swal({icon:"error",title:"錯誤",text:t.t0.response.data.message});case 14:e.$refs.carouselTable.refresh(),e.$bvModal.hide("modal-carousel"),e.submitDisable=!1;case 17:case"end":return t.stop()}}),t,null,[[1,11]])})))()},submitEditModal:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.submitDisable=!0,t.prev=1,t.next=4,e.axios.patch("/carousels/"+e.form._id,{show:e.form.show},{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 4:r=t.sent,a=r.data,e.carousels[e.form.index]={image:"".concat("https://frontclass-zerozero.herokuapp.com","/files/").concat(a.result.image),show:e.form.show,_id:e.form._id},e.$refs.carouselTable.refresh(),e.$bvModal.hide("modal-carousel"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),e.$swal({icon:"error",title:"錯誤",text:t.t0.response.data.message});case 14:e.submitDisable=!1;case 15:case"end":return t.stop()}}),t,null,[[1,11]])})))()}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("/carousels/all",{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 3:r=t.sent,a=r.data,e.carousels=a.result.map((function(e){return e.image&&(e.image="".concat("https://frontclass-zerozero.herokuapp.com","/files/").concat(e.image)),e})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$swal({icon:"error",title:"錯誤",text:"取得圖片失敗"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}),i=s,l=r("2877"),c=Object(l["a"])(i,a,n,!1,null,null,null);t["default"]=c.exports},"69c6":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"admincarundone"}},[r("b-table",{ref:"reservesTable",staticClass:"text-center",attrs:{id:"admincarundone-table",striped:"",hover:"",items:e.cars,fields:e.fields},scopedSlots:e._u([{key:"cell(user)",fn:function(t){return[e._v(e._s(t.item.user.account))]}},{key:"cell(items)",fn:function(t){return e._l(t.item.items,(function(a,n){return r("span",[e._v(e._s(a)),n<t.item.items.length-1?r("span",[e._v("、")]):e._e()])}))}},{key:"cell(freetime)",fn:function(t){return[e._v(e._s(t.item.freetime.day)+" ; "+e._s(t.item.freetime.time))]}},{key:"cell(action)",fn:function(t){return[r("b-btn",{staticClass:"btn-edit",on:{click:function(r){return e.editReserve(t.index)}}},[e._v("編輯")])]}}])}),r("b-modal",{attrs:{id:"modal-done",title:"編輯",centered:"","ok-variant":"success","ok-title":"送出","cancel-title":"取消"},on:{ok:e.submitModal}},[r("b-form-group",{attrs:{label:"處理","label-for":"input-role"}},[r("b-form-radio",{attrs:{value:!1},model:{value:e.form.done,callback:function(t){e.$set(e.form,"done",t)},expression:"form.done"}},[e._v("未完成")]),r("b-form-radio",{attrs:{value:!0},model:{value:e.form.done,callback:function(t){e.$set(e.form,"done",t)},expression:"form.done"}},[e._v("已完成")])],1)],1)],1)},n=[],o=r("1da1"),s=(r("96cf"),r("c740"),r("a434"),r("d81d"),{name:"AdminCarUndone",data:function(){return{cars:[],fields:[{key:"user",label:"帳戶",sortable:!0},{key:"address",label:"地址",sortable:!0},{key:"items",label:"品項"},{key:"freetime",label:"希望服務時間"},{key:"tel",label:"聯絡電話"},{key:"date",label:"日期",sortable:!0},{key:"action",label:"操作"}],form:{done:!1,_id:""}}},methods:{editReserve:function(e){this.form={done:this.cars[e].done,_id:this.cars[e]._id,index:e},this.$bvModal.show("modal-done")},submitModal:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r={done:e.form.done},t.next=4,e.axios.patch("/cars/"+e.form._id,r,{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 4:e.cars[e.form.index]={done:e.form.done,_id:e.form._id},a=e.cars.findIndex((function(t){return t._id===e.form._id})),e.cars.splice(a,1),e.$refs.reservesTable.refresh(),e.$bvModal.hide("modal-done"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.$swal({icon:"error",title:"錯誤",text:t.t0.response.data.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("/cars/all",{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 3:r=t.sent,a=r.data,e.cars=a.result.map((function(e){return e.date=new Date(e.date).toLocaleString(),e})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$swal({icon:"error",title:"錯誤",text:"取得預約資料失敗"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}),i=s,l=r("2877"),c=Object(l["a"])(i,a,n,!1,null,null,null);t["default"]=c.exports},8193:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{id:"admincar"}},[r("p",{staticClass:"adminTitle"},[e._v("廢車回收預約")]),r("b-row",[r("b-col",{staticClass:"mb-4",attrs:{cols:"12"}},[r("b-nav",{attrs:{pills:"",justified:""}},[r("b-nav-item",{attrs:{to:"/admin/car/undone",exact:"","exact-active-class":"active"}},[e._v("未完成")]),r("b-nav-item",{attrs:{to:"/admin/car/done",exact:"","exact-active-class":"active"}},[e._v("已完成")])],1)],1),r("b-col",{attrs:{cols:"12"}},[r("router-view")],1)],1)],1)},n=[],o=r("2877"),s={},i=Object(o["a"])(s,a,n,!1,null,null,null);t["default"]=i.exports},a434:function(e,t,r){"use strict";var a=r("23e7"),n=r("23cb"),o=r("a691"),s=r("50c4"),i=r("7b0b"),l=r("65f0"),c=r("8418"),u=r("1dde"),d=u("splice"),m=Math.max,f=Math.min,b=9007199254740991,p="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var r,a,u,d,v,h,g=i(this),x=s(g.length),k=n(e,x),_=arguments.length;if(0===_?r=a=0:1===_?(r=0,a=x-k):(r=_-2,a=f(m(o(t),0),x-k)),x+r-a>b)throw TypeError(p);for(u=l(g,a),d=0;d<a;d++)v=k+d,v in g&&c(u,d,g[v]);if(u.length=a,r<a){for(d=k;d<x-a;d++)v=d+a,h=d+r,v in g?g[h]=g[v]:delete g[h];for(d=x;d>x-a+r;d--)delete g[d-1]}else if(r>a)for(d=x-a;d>k;d--)v=d+a-1,h=d+r-1,v in g?g[h]=g[v]:delete g[h];for(d=0;d<r;d++)g[d+k]=arguments[d+2];return g.length=x-a+r,u}})},aa93:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{id:"adminproducts"}},[r("p",{staticClass:"adminTitle"},[e._v("商品管理")]),r("div",{staticClass:"mb-3 d-flex justify-content-end",attrs:{id:"btn-addproducts"}},[r("b-btn",{attrs:{block:""},on:{click:function(t){return e.$bvModal.show("modal-addproduct")}}},[e._v("新增商品")])],1),r("b-table",{ref:"productTable",staticClass:"text-center",attrs:{id:"adminproducts-table",striped:"",hover:"",items:e.pageBox,fields:e.fields},scopedSlots:e._u([{key:"cell(image)",fn:function(t){return[t.item?r("img",{attrs:{src:t.item.image}}):e._e()]}},{key:"cell(sell)",fn:function(e){return[e.item.sell?r("font-awesome-icon",{attrs:{icon:["fas","check"]}}):r("font-awesome-icon",{attrs:{icon:["fas","times"]}})]}},{key:"cell(action)",fn:function(t){return[r("b-btn",{staticClass:"btn-edit",on:{click:function(r){return e.editProduct(t.index)}}},[e._v("編輯")])]}}])}),r("div",{staticClass:"overflow-auto d-flex justify-content-center"},[r("b-pagination",{staticClass:"mb-5",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,"first-number":"","last-number":""},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),r("b-modal",{attrs:{id:"modal-addproduct",title:e.form._id.length>0?"編輯商品":"新增商品",centered:"","ok-variant":"success","ok-title":"送出","cancel-title":"取消","ok-disabled":e.submitDisable,"cancel-disabled":e.submitDisable},on:{ok:e.submitModal,hidden:e.resetForm}},[r("b-form-group",{attrs:{label:"品名","label-for":"input-name",state:e.state.name,description:"品名長度限制為 1 個字以上","invalid-feedback":"品名格式不正確"}},[r("b-form-input",{attrs:{id:"input-name",type:"text",required:"",placeholder:"請輸入品名",state:e.state.name},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("b-form-group",{attrs:{label:"價格","label-for":"input-price",state:e.state.price,description:"價格限制為 1 元以上","invalid-feedback":"價格格式不正確"}},[r("b-form-input",{attrs:{id:"input-price",type:"number",required:"",placeholder:"請輸入價格",state:e.state.price},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",e._n(t))},expression:"form.price"}})],1),r("b-form-group",{attrs:{label:"說明","label-for":"input-description"}},[r("b-form-textarea",{attrs:{id:"input-description",type:"text",placeholder:"請輸入說明文字"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),r("b-form-group",{attrs:{label:"上架","label-for":"input-sell"}},[r("b-form-radio",{attrs:{value:!0},model:{value:e.form.sell,callback:function(t){e.$set(e.form,"sell",t)},expression:"form.sell"}},[e._v("上架")]),r("b-form-radio",{attrs:{value:!1},model:{value:e.form.sell,callback:function(t){e.$set(e.form,"sell",t)},expression:"form.sell"}},[e._v("下架")])],1),r("img-inputer",{attrs:{theme:"dark",size:"large",placeholder:"點擊或拖曳選擇圖片","bottom-text":"點擊或拖曳以修改"},model:{value:e.form.image,callback:function(t){e.$set(e.form,"image",t)},expression:"form.image"}})],1)],1)},n=[],o=r("1da1"),s=(r("96cf"),r("b0c0"),r("fb6a"),r("a4d3"),r("e01a"),r("99af"),r("d81d"),{name:"AdminProducts",data:function(){return{products:[],currentPage:1,perPage:5,fields:[{key:"image",label:"圖片"},{key:"name",label:"品名"},{key:"price",label:"價格",sortable:!0},{key:"description",label:"說明"},{key:"sell",label:"上架",sortable:!0},{key:"action",label:"操作"}],submitDisable:!1,form:{name:"",price:0,description:"",sell:!1,image:null,_id:""}}},computed:{state:function(){return{name:0!==this.form.name.length||null,price:0===this.form.price?null:this.form.price>0}},pageBox:function(){var e=this.products;return e.slice((this.currentPage-1)*this.perPage,this.currentPage*this.perPage)},totalRows:function(){return this.products.length}},methods:{editProduct:function(e){this.form={name:this.pageBox[e].name,price:this.pageBox[e].price,description:this.pageBox[e].description,sell:this.pageBox[e].sell,image:this.pageBox[e].image,_id:this.pageBox[e]._id,index:e},this.$bvModal.show("modal-addproduct")},resetForm:function(e){this.submitDisable?e.preventDefault():this.form={name:"",price:0,description:"",sell:!1,image:null,_id:""}},submitModal:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a in e.submitDisable=!0,t.prev=1,r=new FormData,e.form)r.append(a,e.form[a]);if(0!==e.form._id.length){t.next=12;break}return t.next=7,e.axios.post("/products",r,{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 7:n=t.sent,o=n.data,e.products.push({name:e.form.name,price:e.form.price,description:e.form.description,sell:e.form.sell,image:"".concat("https://frontclass-zerozero.herokuapp.com","/files/").concat(o.result.image),_id:o.result._id}),t.next=17;break;case 12:return t.next=14,e.axios.patch("/products/"+e.form._id,r,{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 14:s=t.sent,i=s.data,e.pageBox[e.form.index]={name:e.form.name,price:e.form.price,description:e.form.description,sell:e.form.sell,image:"".concat("https://frontclass-zerozero.herokuapp.com","/files/").concat(i.result.image),_id:e.form._id};case 17:e.$refs.productTable.refresh(),e.$bvModal.hide("modal-addproduct"),t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](1),e.$swal({icon:"error",title:"錯誤",text:t.t0.response.data.message});case 24:e.submitDisable=!1;case 25:case"end":return t.stop()}}),t,null,[[1,21]])})))()}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("/products/all",{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 3:r=t.sent,a=r.data,e.products=a.result.map((function(e){return e.image&&(e.image="".concat("https://frontclass-zerozero.herokuapp.com","/files/").concat(e.image)),e})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$swal({icon:"error",title:"錯誤",text:"取得商品失敗"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}),i=s,l=r("2877"),c=Object(l["a"])(i,a,n,!1,null,null,null);t["default"]=c.exports},b0c0:function(e,t,r){var a=r("83ab"),n=r("9bf2").f,o=Function.prototype,s=o.toString,i=/^\s*function ([^ (]*)/,l="name";a&&!(l in o)&&n(o,l,{configurable:!0,get:function(){try{return s.call(this).match(i)[1]}catch(e){return""}}})},c732:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{id:"adminhome"}},[a("img",{attrs:{src:r("d092")}})])},n=[],o=r("2877"),s={},i=Object(o["a"])(s,a,n,!1,null,null,null);t["default"]=i.exports},c740:function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").findIndex,o=r("44d2"),s="findIndex",i=!0;s in[]&&Array(1)[s]((function(){i=!1})),a({target:"Array",proto:!0,forced:i},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},d092:function(e,t,r){e.exports=r.p+"img/logo3.3051b0f2.png"},e01a:function(e,t,r){"use strict";var a=r("23e7"),n=r("83ab"),o=r("da84"),s=r("5135"),i=r("861d"),l=r("9bf2").f,c=r("e893"),u=o.Symbol;if(n&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof m?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};c(m,u);var f=m.prototype=u.prototype;f.constructor=m;var b=f.toString,p="Symbol(test)"==String(u("test")),v=/^Symbol\((.*)\)[^)]+$/;l(f,"description",{configurable:!0,get:function(){var e=i(this)?this.valueOf():this,t=b.call(e);if(s(d,e))return"";var r=p?t.slice(7,-1):t.replace(v,"$1");return""===r?void 0:r}}),a({global:!0,forced:!0},{Symbol:m})}},ec5c:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{id:"adminorders"}},[r("p",{staticClass:"adminTitle"},[e._v("兌換管理")]),r("b-table",{staticClass:"text-center",attrs:{id:"adminorders-table",striped:"",hover:"",items:e.pageBox,fields:e.fields},scopedSlots:e._u([{key:"cell(account)",fn:function(t){return[e._v(e._s(t.item.user.account))]}},{key:"cell(name)",fn:function(t){return[e._v(e._s(t.item.products.name))]}},{key:"cell(price)",fn:function(t){return[e._v(e._s(t.item.products.price))]}}])}),r("div",{staticClass:"overflow-auto d-flex justify-content-center"},[r("b-pagination",{staticClass:"mb-5",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,"first-number":"","last-number":""},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)},n=[],o=r("1da1"),s=(r("96cf"),r("fb6a"),r("d81d"),{name:"AdminOrders",data:function(){return{orders:[],currentPage:1,perPage:10,fields:[{key:"_id",label:"訂單編號"},{key:"account",label:"帳戶",sortable:!0},{key:"name",label:"商品名稱",sortable:!0},{key:"price",label:"商品價格",sortable:!0},{key:"date",label:"訂單日期",sortable:!0}]}},computed:{pageBox:function(){var e=this.orders;return e.slice((this.currentPage-1)*this.perPage,this.currentPage*this.perPage)},totalRows:function(){return this.orders.length}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("/orders/all",{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 3:r=t.sent,a=r.data,e.orders=a.result.map((function(e){return e.date=new Date(e.date).toLocaleString(),e})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$swal({icon:"error",title:"錯誤",text:"取得訂單失敗"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}),i=s,l=r("2877"),c=Object(l["a"])(i,a,n,!1,null,null,null);t["default"]=c.exports},fb6a:function(e,t,r){"use strict";var a=r("23e7"),n=r("861d"),o=r("e8b5"),s=r("23cb"),i=r("50c4"),l=r("fc6a"),c=r("8418"),u=r("b622"),d=r("1dde"),m=d("slice"),f=u("species"),b=[].slice,p=Math.max;a({target:"Array",proto:!0,forced:!m},{slice:function(e,t){var r,a,u,d=l(this),m=i(d.length),v=s(e,m),h=s(void 0===t?m:t,m);if(o(d)&&(r=d.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?n(r)&&(r=r[f],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return b.call(d,v,h);for(a=new(void 0===r?Array:r)(p(h-v,0)),u=0;v<h;v++,u++)v in d&&c(a,u,d[v]);return a.length=u,a}})}}]);
//# sourceMappingURL=admin.a179a163.js.map