(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["account"],{"038b":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{id:"accountre"}},[r("p",{staticClass:"text"},[e._v("家電家具回收預約")]),r("b-table",{staticClass:"text-center",attrs:{id:"accountre-table1",striped:"",hover:"",items:e.pageBox1,fields:e.fields},scopedSlots:e._u([{key:"cell(items)",fn:function(t){return e._l(t.item.items,(function(a,n){return r("span",[e._v(e._s(a)),n<t.item.items.length-1?r("span",[e._v("、")]):e._e()])}))}},{key:"cell(freetime)",fn:function(t){return[e._v(e._s(t.item.freetime.day)+" ; "+e._s(t.item.freetime.time))]}},{key:"cell(done)",fn:function(e){return[e.item.done?r("font-awesome-icon",{attrs:{icon:["fas","check"]}}):r("font-awesome-icon",{attrs:{icon:["fas","times"]}})]}}])}),r("div",{staticClass:"overflow-auto d-flex justify-content-center"},[r("b-pagination",{staticClass:"mb-5",attrs:{"total-rows":e.totalRows1,"per-page":e.perPage,"first-number":"","last-number":""},model:{value:e.currentPage1,callback:function(t){e.currentPage1=t},expression:"currentPage1"}})],1),r("p",{staticClass:"text"},[e._v("廢車回收預約")]),r("b-table",{staticClass:"text-center",attrs:{id:"accountre-table2",striped:"",hover:"",items:e.pageBox2,fields:e.fields},scopedSlots:e._u([{key:"cell(items)",fn:function(t){return e._l(t.item.items,(function(a,n){return r("span",[e._v(e._s(a)),n<t.item.items.length-1?r("span",[e._v("、")]):e._e()])}))}},{key:"cell(freetime)",fn:function(t){return[e._v(e._s(t.item.freetime.day)+" ; "+e._s(t.item.freetime.time))]}},{key:"cell(done)",fn:function(e){return[e.item.done?r("font-awesome-icon",{attrs:{icon:["fas","check"]}}):r("font-awesome-icon",{attrs:{icon:["fas","times"]}})]}}])}),r("div",{staticClass:"overflow-auto d-flex justify-content-center"},[r("b-pagination",{staticClass:"mb-5",attrs:{"total-rows":e.totalRows2,"per-page":e.perPage,"first-number":"","last-number":""},model:{value:e.currentPage2,callback:function(t){e.currentPage2=t},expression:"currentPage2"}})],1)],1)},n=[],s=r("1da1"),i=(r("96cf"),r("fb6a"),r("d81d"),{name:"AccountRe",data:function(){return{furnitures:[],cars:[],currentPage1:1,currentPage2:1,perPage:10,fields:[{key:"address",label:"地址",sortable:!0},{key:"items",label:"品項"},{key:"freetime",label:"希望服務時間"},{key:"tel",label:"聯絡電話"},{key:"date",label:"日期",sortable:!0},{key:"done",label:"完成",sortable:!0}]}},computed:{pageBox1:function(){var e=this.furnitures;return e.slice((this.currentPage1-1)*this.perPage,this.currentPage1*this.perPage)},totalRows1:function(){return this.furnitures.length},pageBox2:function(){var e=this.cars;return e.slice((this.currentPage2-1)*this.perPage,this.currentPage2*this.perPage)},totalRows2:function(){return this.cars.length}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("/furnitures",{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 3:return r=t.sent,a=r.data,t.next=7,e.axios.get("/cars",{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 7:n=t.sent,e.furnitures=a.result.map((function(e){return e.date=new Date(e.date).toLocaleString(),e})),e.cars=n.data.result.map((function(e){return e.date=new Date(e.date).toLocaleString(),e})),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),e.$swal({icon:"error",title:"錯誤",text:"取得預約資料失敗"});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()}}),c=i,o=r("2877"),u=Object(o["a"])(c,a,n,!1,null,null,null);t["default"]=u.exports},6922:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{id:"accountorder"}},[r("b-table",{staticClass:"text-center",attrs:{id:"accountorder-table",striped:"",hover:"",items:e.pageBox,fields:e.fields},scopedSlots:e._u([{key:"cell(name)",fn:function(t){return[e._v(e._s(t.item.products.name))]}},{key:"cell(price)",fn:function(t){return[e._v(e._s(t.item.products.price))]}}])}),r("div",{staticClass:"overflow-auto d-flex justify-content-center"},[r("b-pagination",{staticClass:"mb-5",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,"first-number":"","last-number":""},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)},n=[],s=r("1da1"),i=(r("96cf"),r("fb6a"),r("d81d"),{name:"AccountOrder",data:function(){return{orders:[],currentPage:1,perPage:10,fields:[{key:"_id",label:"訂單編號"},{key:"date",label:"日期",sortable:!0},{key:"name",label:"商品",sortable:!0},{key:"price",label:"價格",sortable:!0}]}},computed:{pageBox:function(){var e=this.orders;return e.slice((this.currentPage-1)*this.perPage,this.currentPage*this.perPage)},totalRows:function(){return this.orders.length}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("/orders",{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 3:r=t.sent,a=r.data,e.orders=a.result.map((function(e){return e.date=new Date(e.date).toLocaleString(),e})),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0),e.$swal({icon:"error",title:"錯誤",text:"取得訂單失敗"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}),c=i,o=r("2877"),u=Object(o["a"])(c,a,n,!1,null,null,null);t["default"]=u.exports},"77be":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{id:"account"}},[r("p",{staticClass:"title",attrs:{id:"title-1"}},[e._v("會員專區")]),r("b-row",[r("b-col",{staticClass:"d-flex justify-content-center",attrs:{cols:"12"}},[r("div",{attrs:{id:"box"}},[r("span",{staticClass:"d-block"},[e._v("帳號："+e._s(e.users.account))]),r("span",{staticClass:"d-block"},[e._v("信箱："+e._s(e.users.email))]),r("span",[e._v("Z 幣：")]),r("span",{attrs:{id:"points"}},[e._v(e._s(e.users.points))])])])],1),r("b-row",{staticClass:"d-flex justify-content-center"},[r("b-col",{staticClass:"mb-5",attrs:{cols:"6"}},[r("b-nav",{attrs:{pills:"",justified:""}},[r("b-nav-item",{attrs:{to:"/account/order",exact:"","exact-active-class":"active"}},[e._v("我的兌換")]),r("b-nav-item",{attrs:{to:"/account/re",exact:"","exact-active-class":"active"}},[e._v("我的預約")])],1)],1),r("b-col",{attrs:{cols:"12"}},[r("router-view")],1)],1)],1)},n=[],s=r("1da1"),i=(r("96cf"),{name:"Account",data:function(){return{users:[]}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("/users",{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 3:return r=t.sent,a=r.data,e.users=a.result,t.abrupt("return",e.users);case 9:t.prev=9,t.t0=t["catch"](0),e.$swal({icon:"error",title:"錯誤",text:"請先登入會員"}),e.$router.push("/login");case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}),c=i,o=r("2877"),u=Object(o["a"])(c,a,n,!1,null,null,null);t["default"]=u.exports},fb6a:function(e,t,r){"use strict";var a=r("23e7"),n=r("861d"),s=r("e8b5"),i=r("23cb"),c=r("50c4"),o=r("fc6a"),u=r("8418"),l=r("b622"),f=r("1dde"),d=f("slice"),p=l("species"),m=[].slice,b=Math.max;a({target:"Array",proto:!0,forced:!d},{slice:function(e,t){var r,a,l,f=o(this),d=c(f.length),v=i(e,d),g=i(void 0===t?d:t,d);if(s(f)&&(r=f.constructor,"function"!=typeof r||r!==Array&&!s(r.prototype)?n(r)&&(r=r[p],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return m.call(f,v,g);for(a=new(void 0===r?Array:r)(b(g-v,0)),l=0;v<g;v++,l++)v in f&&u(a,l,f[v]);return a.length=l,a}})}}]);
//# sourceMappingURL=account.a292aab7.js.map